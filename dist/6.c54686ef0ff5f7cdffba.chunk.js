webpackJsonp([6],{380:function(e,t,a){a(466);var r=a(91)(a(421),a(498),"data-v-90d1fda2",null);r.options.__file="E:\\liwend\\admin-bz\\src\\views\\tenant\\userManagerUser.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] userManagerUser.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},384:function(e,t,a){"use strict";function r(e){return/^1(3[0-9]|4[57]|5[0-35-9]|7[0135678]|8[0-9])+\d{8}$/.test(e)}function s(e){return/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(e)}t.b=r,t.a=s},421:function(e,t,a){"use strict";function r(e){return{1:"电销",2:"代理人",0:"默认用户"}[e]}Object.defineProperty(t,"__esModule",{value:!0});var s=a(384),n=a(441),o=a(47);a.n(o);t.default={data:function(){return{queryData:{id:"",mobile:"",name:"",flag:"",pageSize:"20",pageNo:"1"},columns:[{title:"用户ID",key:"id",align:"center"},{title:"手机号码",key:"mobile",align:"center"},{title:"姓名",key:"name",align:"center"},{title:"身份证",key:"idNo",align:"center"},{title:"用户标签",key:"flag",align:"center",render:function(e,t){return e("span",r(t.row.flag))}},{title:"备注",key:"note",align:"center",ellipsis:!0,render:function(e,t){return e("span",{style:{cursor:"pointer",color:"#2db7f5"},on:{click:function(){o.Modal.info({title:"用户备注",content:""+t.row.note})}}},t.row.note)}}],userList:[],totalCount:"",userSected:{id:"",channel:"",name:"",idNo:"",note:"",flag:""},modelBox:!1}},mounted:function(){this.queryUsers()},methods:{queryUsers:function(){var e=this;a.i(n.a)(this.queryData).then(function(t){1e4===t.errCode?(e.totalCount=t.data.totalCount,e.userList=t.data.results):e.$Message.error(t.data)}).catch(function(t){e.$Message.error("无法获取用户信息"),console.log(t)})},changePage:function(e){this.queryData.pageNo=e,this.queryUsers()},selecteRow:function(e){for(var t in this.userSected)this.userSected[t]="flag"==t?e[t].toString():e[t]},openModel:function(){""==this.userSected.id?this.$Message.warning("请选择你要编辑的用户"):this.modelBox=!0},updateUser:function(){var e=this;if(this.userSected.idNo&&!a.i(s.a)(this.userSected.idNo))return void this.$Message.warning("请输入正确的用户身份证");a.i(n.b)(this.userSected).then(function(t){console.log(t),1e4==t.errCode?(e.$Message.success("保存成功"),e.queryUsers()):e.$Message.error(t.data)}).catch(function(t){e.$Message.error("保存失败"),console.log(t)})}}}},441:function(e,t,a){"use strict";function r(e){var t={id:e.id,mobile:e.mobile,name:e.name,flag:e.flag,pageSize:e.pageSize,pageNo:e.pageNo};return a.i(n.a)({baseURL:i,url:"/userManage/query",data:t})}function s(e){var t={id:e.id,name:e.name,flag:e.flag,note:e.note,idNo:e.idNo,channel:e.channel};return a.i(n.a)({baseURL:i,url:"/userManage/update",data:t})}t.a=r,t.b=s;var n=a(129),o=a(130),i=o.a.javacore},466:function(e,t){},498:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"38px"}},[a("Row",{attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:20}},[a("Card",{staticStyle:{"margin-bottom":"15px"}},[a("Form",{ref:"formInline",staticClass:"manageruser-form",attrs:{inline:"","label-width":70}},[a("Form-item",{staticClass:"manageruser-form-item",attrs:{label:"用户ID"}},[a("Input",{staticClass:"manageruser-form-input",attrs:{type:"text",placeholder:"用户ID"},model:{value:e.queryData.id,callback:function(t){e.queryData.id=t},expression:"queryData.id"}})],1),e._v(" "),a("Form-item",{staticClass:"manageruser-form-item",attrs:{label:"手机号"}},[a("Input",{staticClass:"manageruser-form-input",attrs:{placeholder:"手机号"},model:{value:e.queryData.mobile,callback:function(t){e.queryData.mobile=t},expression:"queryData.mobile"}})],1),e._v(" "),a("Form-item",{staticClass:"manageruser-form-item",attrs:{label:"姓名"}},[a("Input",{staticClass:"manageruser-form-input",attrs:{placeholder:"姓名"},model:{value:e.queryData.name,callback:function(t){e.queryData.name=t},expression:"queryData.name"}})],1),e._v(" "),a("Form-item",{staticClass:"manageruser-form-item",attrs:{label:"用户标签"}},[a("Select",{attrs:{clearable:""},model:{value:e.queryData.flag,callback:function(t){e.queryData.flag=t},expression:"queryData.flag"}},[a("Option",{attrs:{value:"1"}},[e._v("电销")]),e._v(" "),a("Option",{attrs:{value:"2"}},[e._v("代理人")]),e._v(" "),a("Option",{attrs:{value:"0"}},[e._v("默认用户")])],1)],1),e._v(" "),a("Form-item",{staticClass:"manageruser-form-item"},[a("Button",{attrs:{type:"ghost"},on:{click:e.queryUsers}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[a("Button",{attrs:{type:"primary"},on:{click:e.openModel}},[e._v("编辑")])],1)],1),e._v(" "),a("Table",{attrs:{stripe:"",columns:e.columns,data:e.userList,"highlight-row":""},on:{"on-current-change":e.selecteRow}}),e._v(" "),e.userList.length>0?a("div",{staticClass:"manageruser-pagebar"},[a("Page",{staticClass:"manageruser-page-components",attrs:{total:e.totalCount,"page-size":20,size:"small","show-total":""},on:{"on-change":e.changePage}})],1):e._e(),e._v(" "),a("Modal",{attrs:{title:"编辑用户信息"},on:{"on-ok":e.updateUser,"on-cancel":function(t){e.modelBox=!1}},model:{value:e.modelBox,callback:function(t){e.modelBox=t},expression:"modelBox"}},[a("Form",{ref:"formInline",staticClass:"manageruser-form-model",attrs:{inline:"","label-width":80}},[a("Form-item",{staticClass:"manageruser-form-model-item",attrs:{label:"用户姓名"}},[a("Input",{staticClass:"manageruser-form-model-input",attrs:{type:"text",placeholder:"用户姓名"},model:{value:e.userSected.name,callback:function(t){e.userSected.name=t},expression:"userSected.name"}})],1),e._v(" "),a("Form-item",{staticClass:"manageruser-form-model-item",attrs:{label:"用户身份证"}},[a("Input",{staticClass:"manageruser-form-model-input",attrs:{placeholder:"用户身份证"},model:{value:e.userSected.idNo,callback:function(t){e.userSected.idNo=t},expression:"userSected.idNo"}})],1),e._v(" "),a("Form-item",{staticClass:"manageruser-form-model-item",attrs:{label:"用户标签"}},[a("Select",{staticStyle:{width:"130px"},model:{value:e.userSected.flag,callback:function(t){e.userSected.flag=t},expression:"userSected.flag"}},[a("Option",{attrs:{value:"1"}},[e._v("电销")]),e._v(" "),a("Option",{attrs:{value:"2"}},[e._v("代理人")]),e._v(" "),a("Option",{attrs:{value:"0"}},[e._v("默认用户")])],1)],1),e._v(" "),a("Form-item",{staticClass:"manageruser-form-model-item",attrs:{label:"备注"}},[a("Input",{staticClass:"manageruser-form-model-input",attrs:{placeholder:"备注"},model:{value:e.userSected.note,callback:function(t){e.userSected.note=t},expression:"userSected.note"}})],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});